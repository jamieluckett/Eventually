<!-- \templates\event.html -->
{% extends 'base.html' %}
{% load staticfiles %}
<html>
	{% block content %}
		<link rel="stylesheet" href="{% static "css/event.css"%}">
		<title>Eventually - {{ event.event_name }} (Details)</title>

		<div class="alert alert-warning" role="alert">
  			<strong>Warning!</strong> Event is Unclaimed, please claim it below so than no one else may see this!
		</div>

		<h1>Event Details</h1>
		<h4>Make sure to copy the url to keep the event!</h4>
		
		<div class="event-entry">
			<h2>{{ event.event_name }}</h2>
			<p><b>Date:</b> {{ event.event_date }}</p>
			<p><b>Date Created:</b> {{ event.event_date_created }}</p>
			<p><b>Description:</b> {{ event.event_description }}</p>
		</div>

		<h5>Guest List</h5>
		{% for g in guests %}
			<b><p class =
				{% if g.seen and g.going %} "seen-going-guest"
				{% elif g.seen %} "seen-guest"
				{% elif g.going %} "going-guest"
				{% else %} "unseen-guest" {% endif %}>{{ g.email_address }}</b> -
				{% if g.going %} Going
				{% else %} Not Going
				{% endif %}/{% if g.seen %} Seen
				{% else %} Not Seen
				{% endif %}
			<button data-clipboard-text="{{ url |add:g.invite_key }}" class="btn btn-outline-primary ml-2">Copy Invite</button> <button class="btn btn-outline-danger"">Delete Guest</button>
		{% endfor %}
	<br></br>
		{% if user.is_authenticated %}
			<a href = "./claim" class = "btn btn-warning">Claim Event</a>
		{% endif %}
		<a href = "./delete"><button class="btn btn-danger">Delete Event</button></a>
		
	<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
	<script>
	var btn = document.getElementsByClassName('btn btn-outline-primary ml-2');
    var clipboard = new ClipboardJS(btn);
	</script>
	{% endblock %}
</html>